---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

interface Props {
  title?: string;
  description?: string;
}

const { 
  title = 'The Best QR Generator',
  description = 'Create QR codes for free. Privacy-focused, no account required.'
} = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>{title}</title>
    <meta name="title" content="Free QR Code Generator - No Signup, No Watermark | The Best QR Generator" />
    <meta name="description" content={description} />
    <meta name="theme-color" content="#2563eb" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://thebestqrgenerator.com/" />
    
    <!-- Open Graph / Facebook - ENHANCED -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://thebestqrgenerator.com/" />
    <meta property="og:title" content="Free QR Code Generator - No Signup, No Watermark" />
    <meta property="og:description" content="Create free QR codes instantly. 100% private, no signup required. Download in multiple formats. Perfect for WiFi, business cards, URLs, and more." />
    <meta property="og:image" content="https://thebestqrgenerator.com/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="The Best QR Generator" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter - ENHANCED -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://thebestqrgenerator.com/" />
    <meta name="twitter:title" content="Free QR Code Generator - No Signup, No Watermark" />
    <meta name="twitter:description" content="Create free QR codes instantly. 100% private, no signup required. Download in PNG, SVG, JPG, or PDF." />
    <meta name="twitter:image" content="https://thebestqrgenerator.com/twitter-image.png" />
    <meta name="twitter:image:alt" content="The Best QR Generator - Create QR codes for free" />
    
    <!-- Additional SEO Tags -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    <meta name="author" content="The Best QR Generator" />
    
    <!-- Mobile Web App Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="QR Generator" />

    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-1675310421172493">
    <script is:inline async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1675310421172493" crossorigin="anonymous"></script>

    <!-- Structured Data - JSON-LD -->
    <script is:inline type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "The Best QR Generator",
      "url": "https://thebestqrgenerator.com",
      "description": "Free QR code generator with no signup required. Create QR codes for URLs, WiFi, vCard, email, SMS, and more. 100% private and client-side.",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "URL QR Codes",
        "WiFi QR Codes",
        "vCard QR Codes",
        "Email QR Codes",
        "SMS QR Codes",
        "Phone QR Codes",
        "Plain Text QR Codes",
        "Multiple Download Formats (PNG, SVG, JPG, PDF)",
        "No Signup Required",
        "No Watermarks",
        "100% Private - Client-Side Processing"
      ],
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "127",
        "bestRating": "5",
        "worstRating": "1"
      },
      "creator": {
        "@type": "Organization",
        "name": "The Best QR Generator"
      }
    }
    </script>
  </head>
  <body>
    <div class="flex min-h-screen flex-col bg-(--color-background)">
      <Header />
      <main class="flex-1">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
          <slot />
        </div>
      </main>
      <Footer />
    </div>
    <script>
      // Theme initialization (runs immediately to prevent flash)
      let theme = localStorage.getItem('theme');
      if (!theme || theme === 'system') {
        theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }
      document.documentElement.classList.add(theme);
    </script>
    <script is:inline defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "2639e1df63a84c8f9a861299f416ffc7"}'></script>
  </body>
</html>
