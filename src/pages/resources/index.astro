---
import MainLayout from '../../layouts/MainLayout.astro';
import { getCollection } from 'astro:content';

const resources = (await getCollection('resources')).sort((a, b) => a.data.publishDate < b.data.publishDate ? 1 : -1);

const categoryLabels = {
  guides: 'Guide',
  'use-cases': 'Use Case',
  'best-practices': 'Best Practices',
  faq: 'FAQ',
};
---

<MainLayout 
  title="QR Code Resources | Guides, Use Cases & Best Practices"
  description="Comprehensive resources on QR codes including how-to guides, real-world use cases, and industry best practices."
>
    <!-- Header -->
    <div class="my-16 text-center">
      <h1 class="mb-4 text-4xl font-bold text-(--color-text-primary)">
        QR Code Resources
      </h1>
      <p class="mx-auto max-w-2xl text-lg text-(--color-text-muted)">
        Everything you need to know about creating and using QR codes effectively. 
        From practical guides to real-world examples.
      </p>
    </div>

        <section class="mb-16">
          <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            {resources.map((resource) => (
              <a 
                href={`/resources/${resource.slug}`}
                class="group rounded-lg border border-(--color-border) p-6 transition-all hover:shadow-lg"
              >
                {resource.data.image && (
                  <img 
                    src={resource.data.image} 
                    alt={resource.data.title}
                    class="mb-4 aspect-3/2 rounded object-cover"
                  />
                )}
                <h3 class="mb-2 text-lg font-semibold text-(--color-text-primary) group-hover:text-(--color-primary)">
                  {resource.data.title}
                </h3>
                <p class="mb-4 text-sm text-(--color-text-muted)">
                  {resource.data.description}
                </p>
                <div class="flex items-center justify-between text-xs text-(--color-text-muted)">
                  {/* <span>{resource.data.publishDate.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    timeZone: 'UTC'
                  })}</span> */}
                  <span class="rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900/50 dark:text-blue-200">
                    {categoryLabels[resource.data.category]}
                  </span>
                  <span class="text-(--color-primary)">Read more â†’</span>
                </div>
              </a>
            ))}
          </div>
        </section>
</MainLayout>
